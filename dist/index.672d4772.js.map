{"mappings":"AAAA,MAAM,aAAa,SAAS,aAAa,CAAC;AAC1C,MAAM,YAAY,SAAS,aAAa,CAAC;AACzC,MAAM,UAAU,SAAS,aAAa,CAAC;AACvC,MAAM,QAAQ,SAAS,aAAa,CAAC;AACrC,MAAM,OAAO,SAAS,aAAa,CAAC;AACpC,MAAM,iBAAiB,SAAS,aAAa,CAAC;AAC9C,MAAM,gBAAgB,SAAS,aAAa,CAAC;AAC7C,MAAM,YAAY,SAAS,aAAa,CAAC;AACzC,MAAM,cAAc,SAAS,aAAa,CAAC;AAC3C,MAAM,WAAW,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC;AACjD,MAAM,aAAa,WAAW,WAAW,EAAE;AAC3C,QAAQ,gBAAgB,CAAC,UAAU,SAAU,CAAC,EAAE;IAC9C,EAAE,cAAc;IAChB,MAAM,WAAW,UAAU,KAAK;IAChC,IAAI,aAAa,IAAI;IACrB,WACE,UACA,OAAO,IAAI,OAAO,OAAO,IAAI,KAAK,CAAC,IAAI,QAAQ,CAAC,GAAG,IACnD,KAAK,EACL,KAAK;IAEP,WAAW,IAAI,CAAC;QACd;QACA,OAAO,OAAO,IAAI,OAAO,OAAO,IAAI,KAAK,CAAC,IAAI,QAAQ,CAAC,GAAG;QAC1D,MAAM,KAAK;IACb;IACA;IAEA;IACA;IACA,UAAU,KAAK,GAAG;AACpB;AACA,MAAM,aAAa,SACjB,QAAQ,EACR,YAAY,OAAO,IAAI,OAAO,OAAO,IAAI,KAAK,CAAC,IAAI,QAAQ,CAAC,GAAG,EAAE,EACjE,OAAO,KAAK,EACZ,UAAU,KAAK,EACf;IACA,MAAM,SAAS,CAAC;mBACC,EAAE,UAAU,KAAK,QAAQ,CAAC,eAAe,EAAE,UAAU;;2BAE7C,EAAE,OAAO,YAAY,EAAE,CAAC;0BACzB,EAAE,OAAO,cAAc,EAAE,CAAC,EAAE,EAAE,SAAS;;;;;;;;;;;;;;;;;;MAkB3D,CAAC;IAEL,MAAM,kBAAkB,CAAC,aAAa;IACtC,WAAW,WAAY;QACrB,MAAM,SAAS,CAAC,SAAS,CAAC,MAAM,CAAC;IACnC,GAAG;AACL;AACA,MAAM,gBAAgB,CAAC,SAAS,SAAU,CAAC,EAAE;IAC3C,YAAY;IACZ,IAAI,CAAC,EAAE,MAAM,CAAC,OAAO,CAAC,UAAU;IAChC,IAAI,CAAC,EAAE,MAAM,CAAC,OAAO,CAAC,iBAAiB;QACrC,MAAM,WAAW,EAAE,MAAM,CAAC,OAAO,CAAC;QAClC,MAAM,cAAc,SAAS,aAAa,CAAC;QAC3C,IAAI,CAAC,EAAE,MAAM,CAAC,OAAO,CAAC,UAAU,YAAY,OAAO,GAAG,CAAC,YAAY,OAAO;QAC1E,MAAM,eAAe,SAAS,aAAa,CAAC;QAC5C,MAAM,gBAAgB,WAAW,SAAS,CACxC,CAAC,IACC,EAAE,KAAK,KAAK,SAAS,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,MAC/C,EAAE,KAAK,KAAK,OAAO,CAAC,SAAS,OAAO,CAAC,KAAK,GAAG,GAAG,QAAQ,CAAC,GAAG;QAEhE,IAAI,iBAAiB,GACnB,UAAU,CAAC,cAAc,CAAC,IAAI,GAAG,CAAC,UAAU,CAAC,cAAc,CAAC,IAAI;QAClE,8DAA8D;QAC9D,aAAa,SAAS,CAAC,MAAM,CAAC;QAC9B;QACA;IACF,CAAC;IACD,cAAc;IACd,IAAI,EAAE,MAAM,CAAC,OAAO,CAAC,iBAAiB;QACpC,MAAM,aAAa,EAAE,MAAM,CAAC,OAAO,CAAC;QACpC,WAAW,MAAM,CACf,WAAW,SAAS,CAAC,CAAC,MAAQ,CAAC,IAAI,KAAK,KAAK,CAAC,WAAW,OAAO,CAAC,KAAK,GACtE;QAEF,WAAW,SAAS,CAAC,GAAG,CAAC;QACzB;QACA,WAAW,IAAM;YACf,WAAW,MAAM;YACjB;YACA,IAAI,CAAC,MAAM,aAAa,CAAC,UACvB,WAAW,wBAAwB,WAAW,KAAK,EAAE,KAAK;QAE9D,GAAG;IACL,CAAC;AACH;AAEA,MAAM,gBAAgB,WAAY;IAChC,aAAa,OAAO,CAAC,SAAS,KAAK,SAAS,CAAC;AAC/C;AACA,SAAS,cAAc;IACrB,IAAI,WAAW,MAAM,GAAG,GAAG;QACzB,KAAK,MAAM;QACX,SAAS,OAAO,CAAC,CAAC,GAAG,IAAM,WAAW,EAAE,QAAQ,EAAE,CAAC,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,IAAI;IAC1E,CAAC;AACH;AACA;AACA,SAAS,gBAAgB;IACvB,MAAM,YAAY,MAAM,IAAI,CAAC,MAAM,gBAAgB,CAAC;IACpD,MAAM,UAAU,UAAU,MAAM,CAC9B,CAAC,MAAM,MAAQ,OAAO,IAAI,SAAS,CAAC,QAAQ,CAAC,cAC7C;IAEF,eAAe,WAAW,GAAG;IAC7B,cAAc,WAAW,GAAG,UAAU,MAAM,IAAI;AAClD;AACA,SAAS,kBAAkB;IACzB,MAAM,cAAc,MAAM,gBAAgB,CAAC;IAC3C,YAAY,OAAO,CAAC,CAAC,aAAe;QAClC,IAAI,WAAW,WAAW,KAAK,wBAC7B,WAAW,OAAO,CAAC,SAAS,MAAM;QAEpC;IACF;AACF;AACA;AACA,IAAI;AACJ;IAAC;IAAa;CAAa,CAAC,OAAO,CAAC,CAAC,QAAU;IAC7C,UAAU,gBAAgB,CAAC,OAAO,SAAU,CAAC,EAAE;QAC7C,UAAU,SAAS,CAAC,GAAG,CAAC;QACxB,EAAE,cAAc;QAChB,MAAM,YAAY,WAAW,WAAY;YACvC,WAAW,MAAM,CAAC;YAClB,MAAM,YAAY,MAAM,IAAI,CAAC,MAAM,gBAAgB,CAAC;YACpD,UAAU,SAAS,CAAC,MAAM,CAAC;YAE3B,UAAU,OAAO,CAAC,CAAC,OAAS,KAAK,MAAM;YACvC,WAAW,wBAAwB,WAAW,KAAK,EAAE,KAAK;YAC1D;YACA;YACA;QACF,GAAG;QACH,IAAI,IAAI;QACR,YAAY,SAAS,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;QAChC,QAAQ,YAAY,WAAY;YAC9B;YACA,YAAY,SAAS,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;YAChC,IAAI,IAAI,GAAG;gBACT,cAAc;gBACd,YAAY,SAAS,GAAG;YAC1B,CAAC;QACH,GAAG;QAEH;YAAC;YAAW;SAAW,CAAC,OAAO,CAAC,CAAC,UAAY;YAC3C,UAAU,gBAAgB,CAAC,SAAS,IAAM;gBACxC,aAAa;gBACb,cAAc;gBACd,YAAY,SAAS,GAAG;gBACxB,UAAU,SAAS,CAAC,MAAM,CAAC;YAC7B;QACF;IACF;AACF","sources":["script.js"],"sourcesContent":["const addTaskBtn = document.querySelector(\".add-task--button\");\r\nconst inputTask = document.querySelector(\".input-task--text\");\r\nconst addTask = document.querySelector(\".add-task\");\r\nconst tasks = document.querySelector(\".list-task\");\r\nconst task = document.querySelector(\".task\");\r\nconst tasksComplited = document.querySelector(\".tasks-complited\");\r\nconst tasksQuantity = document.querySelector(\".tasks-quantity\");\r\nconst removeAll = document.querySelector(\".remove-all\");\r\nconst timerRemove = document.querySelector(\".timer-remove\");\r\nconst getLocal = JSON.parse(localStorage.getItem(\"tasks\"));\r\nconst localTasks = getLocal ? getLocal : [];\r\naddTask.addEventListener(\"submit\", function (e) {\r\n  e.preventDefault();\r\n  const taskText = inputTask.value;\r\n  if (taskText === \"\") return;\r\n  createTask(\r\n    taskText,\r\n    String(new Date().getTime()).slice(-5).padStart(5, 0),\r\n    false,\r\n    false\r\n  );\r\n  localTasks.push({\r\n    taskText,\r\n    index: String(new Date().getTime()).slice(-5).padStart(5, 0),\r\n    done: false,\r\n  });\r\n  counterUpdate();\r\n\r\n  removeFirstTask();\r\n  updateStorage();\r\n  inputTask.value = \"\";\r\n});\r\nconst createTask = function (\r\n  textTask,\r\n  taskIndex = String(new Date().getTime()).slice(-5).padStart(5, 0),\r\n  done = false,\r\n  isLocal = false\r\n) {\r\n  const markup = `          \r\n  <div class=\"task ${isLocal ? \"\" : \"hidden\"}\" data-index = ${taskIndex}>\r\n  <form class=\"task-form\">\r\n    <input type=\"checkbox\" ${done ? \"checked\" : \"\"}/>\r\n    <div class=\"text-task ${done ? \"done-task\" : \"\"}\">${textTask}</div>\r\n  </form>\r\n  <button class=\"remove-task frame-button button-hov\">\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      fill=\"none\"\r\n      viewBox=\"0 0 24 24\"\r\n      stroke-width=\"1.5\"\r\n      stroke=\"currentColor\"\r\n      class=\"trash-task\"\r\n    >\r\n      <path\r\n        stroke-linecap=\"round\"\r\n        stroke-linejoin=\"round\"\r\n        d=\"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0\"\r\n      />\r\n    </svg>\r\n  </button>\r\n</div>`;\r\n\r\n  tasks.insertAdjacentHTML(\"beforeend\", markup);\r\n  setTimeout(function () {\r\n    tasks.lastChild.classList.remove(\"hidden\");\r\n  }, 10);\r\n};\r\ntasks.addEventListener(\"click\", function (e) {\r\n  // DONE TASK\r\n  if (!e.target.closest(\".task\")) return;\r\n  if (!e.target.closest(\".remove-task\")) {\r\n    const taskDone = e.target.closest(\".task\");\r\n    const uncheckTask = taskDone.querySelector(\"input\");\r\n    if (!e.target.closest(\"input\")) uncheckTask.checked = !uncheckTask.checked;\r\n    const textDoneTask = taskDone.querySelector(\".text-task\");\r\n    const findTaskIndex = localTasks.findIndex(\r\n      (t) =>\r\n        t.index === taskDone.dataset.index.padStart(5, 0) ||\r\n        t.index === String(+taskDone.dataset.index + 1).padStart(5, 0)\r\n    );\r\n    if (findTaskIndex >= 0)\r\n      localTasks[findTaskIndex].done = !localTasks[findTaskIndex].done;\r\n    // const getTaskByIndex = localTasks.find(ind=>ind.index === )\r\n    textDoneTask.classList.toggle(\"done-task\");\r\n    updateStorage();\r\n    counterUpdate();\r\n  }\r\n  // DELETE TASK\r\n  if (e.target.closest(\".remove-task\")) {\r\n    const selectTask = e.target.closest(\".task\");\r\n    localTasks.splice(\r\n      localTasks.findIndex((ind) => +ind.index === +selectTask.dataset.index),\r\n      1\r\n    );\r\n    selectTask.classList.add(\"hidden\");\r\n    updateStorage();\r\n    setTimeout(() => {\r\n      selectTask.remove();\r\n      counterUpdate();\r\n      if (!tasks.querySelector(\".task\")) {\r\n        createTask(\"Add your daily tasks\", undefined, false, false);\r\n      }\r\n    }, 300);\r\n  }\r\n});\r\n\r\nconst updateStorage = function () {\r\n  localStorage.setItem(\"tasks\", JSON.stringify(localTasks));\r\n};\r\nfunction uploadTasks() {\r\n  if (localTasks.length > 0) {\r\n    task.remove();\r\n    getLocal.forEach((t, i) => createTask(t.taskText, +t.index, t.done, true));\r\n  }\r\n}\r\nuploadTasks();\r\nfunction counterUpdate() {\r\n  const doneTasks = Array.from(tasks.querySelectorAll(\".text-task\"));\r\n  const counter = doneTasks.reduce(\r\n    (curr, don) => curr + don.classList.contains(\"done-task\"),\r\n    0\r\n  );\r\n  tasksComplited.textContent = counter;\r\n  tasksQuantity.textContent = doneTasks.length || 1;\r\n}\r\nfunction removeFirstTask() {\r\n  const selectTasks = tasks.querySelectorAll(\".text-task\");\r\n  selectTasks.forEach((selectTask) => {\r\n    if (selectTask.textContent === \"Add your daily tasks\") {\r\n      selectTask.closest(\".task\").remove();\r\n    }\r\n    counterUpdate();\r\n  });\r\n}\r\ncounterUpdate();\r\nlet timer;\r\n[\"mousedown\", \"touchstart\"].forEach((press) => {\r\n  removeAll.addEventListener(press, function (e) {\r\n    removeAll.classList.add(\"active-remove-button\");\r\n    e.preventDefault();\r\n    const checkHold = setTimeout(function () {\r\n      localTasks.splice(0);\r\n      const doneTasks = Array.from(tasks.querySelectorAll(\".task\"));\r\n      removeAll.classList.remove(\"active-remove-button\");\r\n\r\n      doneTasks.forEach((task) => task.remove());\r\n      createTask(\"Add your daily tasks\", undefined, false, false);\r\n      updateStorage();\r\n      uploadTasks();\r\n      counterUpdate();\r\n    }, 2000);\r\n    let i = 2;\r\n    timerRemove.innerHTML = `[${i}]`;\r\n    timer = setInterval(function () {\r\n      i--;\r\n      timerRemove.innerHTML = `[${i}]`;\r\n      if (i < 1) {\r\n        clearInterval(timer);\r\n        timerRemove.innerHTML = \"\";\r\n      }\r\n    }, 1000);\r\n\r\n    [\"mouseup\", \"touchend\"].forEach((unpress) => {\r\n      removeAll.addEventListener(unpress, () => {\r\n        clearTimeout(checkHold);\r\n        clearInterval(timer);\r\n        timerRemove.innerHTML = \"\";\r\n        removeAll.classList.remove(\"active-remove-button\");\r\n      });\r\n    });\r\n  });\r\n});\r\n"],"names":[],"version":3,"file":"index.672d4772.js.map","sourceRoot":"/__parcel_source_root/"}